# 模块功能设计

> 1.为了方便计算，在设计的时候，我们将最小货币0.5元作为单位值1。

| 模块名称                    | 缩写  | 功能                                                         |
| --------------------------- | ----- | ------------------------------------------------------------ |
| main                        | main  | 展示整个项目的功能，为所有功能封装之后的样子。               |
| shell                       | shell | 连接所有的子模块，并对输入输出接口进行封装。                 |
| Central Processing Module   | CPM   | 负责售货机大部分逻辑处理，以及存储商品数量、价格和售货机拥有的货币等信息。并处理硬币投入、确定、取货等用户输入的信号。最后将货币计算的结果保存并输出。负责与Display Module模块负责联动。 |
| Goods Selection             | GS    | 商品选择（之后处理）模块，对选入的商品编号处理得到存有商品图片的地址，并循环输出该商品的首地址到尾地址，以及所处LED阵列的编号。 |
| Goods Selection Add Sub     | GSAS  | 处理商品选择的信号，也就是上一个或者下一个商品，也可有意的写入第几个商品。最后将商品的编号（也是地址）输出。 |
| Display Module              | DM    | 对数码管和声音进行集成和处理输出。包含了GSAD、Sound、ADs模块，也存储着商品的图片信息，对没有商品选择的时候（地址为0），输出广告视频，和播放歌曲。 |
| Coin Action                 | CA    | 对投入硬币的动作进行处理，并输入各个货币的投入个数和单位值（0.5元）的总和。对于不是货币的投入，输出错误。 |
| Coin Action Add Module      | CAAM  | CA的子模块，处理投入货币的动作。并且可以人为写入投入硬币数量。 |
| Money Memory                | MM    | 存储各个货币的多少，并输出。                                 |
| Buying Logic                | BL    | 购买逻辑。实现传入价格，售货机和投入的硬币，并计算找余多少，售货机所剩余多少。主要逻辑又子模块MCM完成。 |
| Money Change Module         | MCM   | BL模块的子模块，实现处理硬币找零操作。                       |
| Display Digital Tube Module | DDTM  | （16进制转）10进制数码管显示，可以显示千位数和百位数（带小数）的数据并显示。 |
| Save Money Module           | SMM   | 完成存储对MM的存储动作。                                     |
| Storehouse Module           | SHM   | 存储货物的数量和价格信息，并输出。也能完成写入修改的操作。   |
| Count Sum Module            | CSM   | 完成对货币个数转换成单位值（0.5元）的倍数。                  |
| Save Income Module          | SIM   | 存储收入的信息，也就是累计销售。                             |

